@page
@model CRM.Pages.signupModel
@{
    ViewData["Title"] = "Sign Up";
    Layout = "~/Pages/Shared/Login_Layout.cshtml"; // Use your custom layout here
}

<div class="login-container">
    <h1>CRM</h1>
    <p>Create an account to get started.</p>
    <form method="post" class="login-form">
        <!-- Full Name Input -->
        <div class="input-group">
            <span class="input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="-16 -16 480 544" fill="none" stroke="currentColor" stroke-width="32" stroke-linecap="round" stroke-linejoin="round" class="icon">
                    <circle cx="224" cy="128" r="128" />
                    <path d="M178.3 304C79.8 304 0 383.8 0 482.3 0 498.7 13.3 512 29.7 512h388.6c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z" />
                </svg>
            </span>
            <input type="text" asp-for="FullName" placeholder="Full Name" required>
        </div>
        @if (!string.IsNullOrEmpty(ViewData.ModelState["FullName"]?.Errors.FirstOrDefault()?.ErrorMessage))
        {
            <span class="text-danger" asp-validation-for="FullName" style="color:red;"></span>
        }

        <!-- Organization Input -->
        <div class="input-group">
            <span class="input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                    <path d="M3 21v-8a2 2 0 0 1 2-2h4V7a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12" />
                    <path d="M9 21v-4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v4" />
                </svg>
            </span>
            <input type="text" asp-for="OrganizationName" placeholder="Organization" required>
        </div>
        @if (!string.IsNullOrEmpty(ViewData.ModelState["Organization"]?.Errors.FirstOrDefault()?.ErrorMessage))
        {
            <span class="text-danger" asp-validation-for="OrganizationName" style="color:red;"></span>
        }

        <!-- Email Input -->
        <div class="input-group">
            <span class="input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="-16 -16 544 544" fill="none" stroke="currentColor" stroke-width="32" stroke-linecap="round" stroke-linejoin="round" class="icon">
                    <path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64z" />
                    <path d="M0 176V384c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176" />
                </svg>
            </span>
            <input type="email" asp-for="Email" placeholder="Email" required>
        </div>
        @if (!string.IsNullOrEmpty(ViewData.ModelState["Email"]?.Errors.FirstOrDefault()?.ErrorMessage))
        {
            <span class="text-danger" asp-validation-for="Email" style="color:red;"></span>
        }

        <!-- Password Input with Toggle -->
        <div class="input-group">
            <span class="input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="-16 -16 544 544" fill="none" stroke="currentColor" stroke-width="32" stroke-linecap="round" stroke-linejoin="round" class="icon">
                    <circle cx="336" cy="176" r="40" />
                    <path d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24v-40h40c13.3 0 24-10.7 24-24v-40h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3z" />
                </svg>
            </span>
            <input type="password" asp-for="Password" placeholder="Password" required>
        </div>
        @if (!string.IsNullOrEmpty(ViewData.ModelState["Password"]?.Errors.FirstOrDefault()?.ErrorMessage))
        {
            <span class="text-danger" asp-validation-for="Password" style="color:red;"></span>
        }

        <!-- Confirm Password -->
        <div class="input-group">
            <span class="input-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="-16 -16 544 544" fill="none" stroke="currentColor" stroke-width="32" stroke-linecap="round" stroke-linejoin="round" class="icon">
                    <circle cx="336" cy="176" r="40" />
                    <path d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24v-40h40c13.3 0 24-10.7 24-24v-40h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3z" />
                </svg>
            </span>
            <input type="password" asp-for="ConfirmPassword" placeholder="Confirm Password" required>
        </div>
        @if (!string.IsNullOrEmpty(ViewData.ModelState["ConfirmPassword"]?.Errors.FirstOrDefault()?.ErrorMessage))
        {
            <span class="text-danger" asp-validation-for="ConfirmPassword" style="color:red;"></span>
        }
        <!-- Submit Button -->
        <button type="submit" class="submit-btn">Sign Up</button>
        <p> <a href="/signin" class="signup-link">Already have an account?</a></p>

        <!-- Display Success Message -->
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success">@TempData["SuccessMessage"]</div>
        }
    </form>
</div>